{"ast":null,"code":"var _jsxFileName = \"c:\\\\nod.js\\\\explorer\\\\node-explorer-client\\\\src\\\\Explorer.js\";\nimport React from 'react';\nimport File from './File';\nimport axios from 'axios'; //const filesList = ['myFile.txt', 'kjsdf xg .txt']\n\nfunction Explorer() {\n  const [active, setActive] = React.useState({});\n  const [filesList, setFilesList] = React.useState([]);\n\n  function setFilesListFunc(data) {\n    const _data = data;\n    return setActive(_data);\n  }\n\n  React.useEffect(() => {\n    axios.get('http://localhost:1200/files').then(res => setFilesListFunc(res)).catch(err => console.log(err));\n  }, []);\n\n  function onFileClicked(fileName) {\n    const file = fileName.split('.').slice(0, -1).join('.');\n    console.log(file);\n    axios.get(`http://localhost:1200/files/${file}`).then(res => {\n      res.data.fileName = file;\n      setActive(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  function deleteFunc(fileName) {\n    const file = fileName.split('.').slice(0, -1).join('.');\n    console.log(\"delete this file: \" + file);\n    axios.delete(`http://localhost:1200/files/${file}`).then(ok => {\n      setFilesListFunc();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"explorer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, filesList.map(f => React.createElement(File, {\n    key: f,\n    name: f,\n    onDelete: () => deleteFunc(f),\n    onClick: () => onFileClicked(f),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))), React.createElement(\"aside\", {\n    className: `info ${active.fileName ? 'open' : ''}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Info\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"  \", active.fileName, \" \"), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, active.content), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Stats\"), active.fileName ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"size:\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, active.stats.size), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"size:\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"21kb\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })) : null));\n}\n\nexport default Explorer;","map":{"version":3,"sources":["c:/nod.js/explorer/node-explorer-client/src/Explorer.js"],"names":["React","File","axios","Explorer","active","setActive","useState","filesList","setFilesList","setFilesListFunc","data","_data","useEffect","get","then","res","catch","err","console","log","onFileClicked","fileName","file","split","slice","join","deleteFunc","delete","ok","width","map","f","content","stats","size"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport File from './File';\r\nimport axios from 'axios';\r\n\r\n//const filesList = ['myFile.txt', 'kjsdf xg .txt']\r\n\r\nfunction Explorer() {\r\n  const [active, setActive] = React.useState({})\r\n  const [filesList, setFilesList] = React.useState([])\r\n\r\nfunction setFilesListFunc(data){\r\n  const _data = data;\r\n  return setActive(_data);\r\n}\r\n  React.useEffect( () => {\r\n    axios.get('http://localhost:1200/files')\r\n    .then(res => setFilesListFunc(res))\r\n    .catch(err => console.log(err))\r\n  }, [])\r\n\r\n  function onFileClicked(fileName){\r\n    const file = fileName.split('.').slice(0, -1).join('.')\r\n    console.log(file)\r\n    axios.get(`http://localhost:1200/files/${file}`)\r\n    .then(res => {\r\n      res.data.fileName = file\r\n      setActive(res.data)\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  function deleteFunc(fileName){\r\n   \r\n    const file = fileName.split('.').slice(0, -1).join('.')\r\n    console.log(\"delete this file: \"+file)\r\n    axios.delete(`http://localhost:1200/files/${file}`) .then(ok => {\r\n      setFilesListFunc()\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n   \r\n  }\r\n\r\n \r\n  return <div className='explorer'>\r\n    <div style={{ width: '100%' }}>\r\n      {filesList.map(f => <File key={f} name={f} onDelete={()=> deleteFunc(f)} onClick={() => onFileClicked(f)} />)}\r\n    </div>\r\n    <aside className={`info ${active.fileName ? 'open' : ''}`}>\r\n      <h3>Info</h3>\r\n      <label>  { active.fileName} </label>\r\n      <div className='content'>\r\n        {active.content}\r\n      </div>\r\n      <h3>Stats</h3>\r\n    { active.fileName ?\r\n      <div>      \r\n            <label>size:</label><span>{active.stats.size}</span><br />\r\n              <label>size:</label><span>21kb</span><br />\r\n            </div>: null\r\n\r\n    }\r\n   \r\n    </aside>\r\n  </div>\r\n}\r\n\r\nexport default Explorer\r\n"]},"metadata":{},"sourceType":"module"}